class Subject
  def initialize(out=STDOUT)
    cals = RiCal.parse_string <<-ENDCAL
BEGIN:VCALENDAR
METHOD:PUBLISH
PRODID:-//Apple Inc.//iCal 3.0//EN
CALSCALE:GREGORIAN
X-WR-CALNAME:Utah Cycling
X-WR-RELCALID:BF579011-36BF-49C6-8C7D-E96F03DE8055
VERSION:2.0
X-WR-TIMEZONE:US/Mountain
BEGIN:VTIMEZONE
TZID:US/Mountain
BEGIN:DAYLIGHT
TZOFFSETFROM:-0700
TZOFFSETTO:-0600
DTSTART:20070311T020000
RRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=2SU
TZNAME:MDT
END:DAYLIGHT
BEGIN:STANDARD
TZOFFSETFROM:-0600
TZOFFSETTO:-0700
DTSTART:20071104T020000
RRULE:FREQ=YEARLY;BYMONTH=11;BYDAY=1SU
TZNAME:MST
END:STANDARD
END:VTIMEZONE
BEGIN:VEVENT
SEQUENCE:11
TRANSP:OPAQUE
UID:15208112-E0FA-4A7C-954C-CFDF19D1B0E7
DTSTART;TZID=US/Mountain:20090114T163000
DTSTAMP:20090107T024340Z
SUMMARY:Wild Rose XC/Skate Training Series
EXDATE;TZID=US/Mountain:20090114T163000
EXDATE;TZID=US/Mountain:20090128T163000
EXDATE;TZID=US/Mountain:20090121T163000
EXDATE;TZID=US/Mountain:20090211T163000
EXDATE;TZID=US/Mountain:20090204T163000
EXDATE;TZID=US/Mountain:20090218T163000
CREATED:20090107T024012Z
DTEND;TZID=US/Mountain:20090114T180000
LOCATION:Mountain Dell Golf Course
RRULE:FREQ=WEEKLY;INTERVAL=1;UNTIL=20090219T065959Z
END:VEVENT
END:VCALENDAR
ENDCAL
    @event = cals.first.events.first
  end

  def run
    @event.occurrences
  end
end
